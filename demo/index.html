<head>
  <style>
    body {
      background-color: #444;
      margin: 0;
      width: 100vw;
      height: 100vh;
    }
    canvas {
      width: 100%;
      height: 100%;
    }
  </style>
  <title>Lissajous Demo</title>
</head>
<body id="body">
  <canvas id="canvas"></canvas>
</body>
<script src="../dist/lissajous.js"></script>
<script>
  const oneOrTwo = () => Math.round(Math.random()) + 1;
  const newLissaInstance = () =>
    new LissajousAnimator(canvas, {
      inverted: true,
      colorStep: `#0${oneOrTwo()}0${oneOrTwo()}0${oneOrTwo()}`,
    });

  const body = document.getElementById("body");
  let canvas = document.getElementById("canvas");
  let lissa = newLissaInstance();

  let timeout = null;
  window.addEventListener("resize", () => {
    clearTimeout(timeout);
    timeout = setTimeout(handleResize, 500);
  });

  function handleResize() {
    const clone = canvas.cloneNode();
    body.append(clone);
    canvas.remove();
    canvas = clone;
    lissa = newLissaInstance();
  }
</script>
