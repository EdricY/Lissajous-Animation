!function(t){var e={};function i(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/dist/",i(i.s=2)}([function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));class n{static get TAU(){return 2*Math.PI}static lerp(t,e,i){return t*i+e*(1-i)}static randFloat(t,e){let i=e-t;return Math.random()*i+t}static randInt(t,e){let i=e-t;return Math.floor(Math.random()*i)+t}static getTenthsDigit(t){return 10*t.toFixed(1)%10}}},function(t,e,i){"use strict";i.d(e,"a",(function(){return r}));var n=i(0);class r{constructor(t,e){null==t&&(t=0),null==e&&(e=0),this.vals=[t,e]}get x(){return this.vals[0]}set x(t){this.vals[0]=t}get y(){return this.vals[1]}set y(t){this.vals[1]=t}static midpoint(t,e,i=.5){let o=n.a.lerp(t.x,e.x,i),a=n.a.lerp(t.y,e.y,i);return new r(o,a)}}},function(t,e,i){"use strict";i.r(e),function(t){i.d(e,"default",(function(){return c}));var n=i(1),r=i(0);window.OffscreenCanvas||(window.OffscreenCanvas=class{constructor(t,e){let i=document.createElement("canvas");return i.width=t,i.height=e,i}});let o="#020203",a=!1,s=0,l=null;class c{constructor(t,e){let i;try{i=t.transferControlToOffscreen()}catch{i=t}this.w=t.clientWidth,this.h=t.clientHeight;let{w:r,h:s}=this;i.width=t.clientWidth,i.height=t.clientHeight,t.style.backgroundColor="#000",this.ctx=i.getContext("2d"),this.tempCtx=new OffscreenCanvas(r,s).getContext("2d");let l=new OffscreenCanvas(r,s);this.textCtx=l.getContext("2d"),this.textCtx.font=this.getFontSize("00:00",.1),this.textCtx.textAlign="center",this.textCtx.textBaseline="middle",this.textCtx.fillStyle="red",console.log(this.textCtx.font);let c=new OffscreenCanvas(r,s);this.crossCtx=c.getContext("2d");let h=new OffscreenCanvas(r,s);this.fadeCtx=h.getContext("2d"),this.head=new n.a,this.tail=new n.a;do{this.a=2*Math.random(),this.b=1,console.log(this.a,this.b)}while(!this.isSufficientlyIrrational(this.a,this.b));if(this.playAnimation(),this.count=0,a=1==e.inverted,!a){let t=new OffscreenCanvas(r,s);this.trailCtx=t.getContext("2d")}e.colorStep&&(o=e.colorStep),t.addEventListener("click",t=>{!function(t,e,i){let n=t.getImageData(e,i,1,1).data;console.log(n)}(this.ctx,t.clientX,t.clientY)})}isSufficientlyIrrational(t,e){for(let i=1;i<=3;i++){let n=i*e/t;if(0===r.a.getTenthsDigit(n))return!1}return!0}setHeadPosition(t){this.head.x=this.w/2+(this.w/2-50-10)*Math.sin(this.b*t/250),this.head.y=this.h/2+(this.h/2-50-10)*Math.cos(this.a*t/250)}playAnimation(){this.beginning=!0,null!==l&&cancelAnimationFrame(l),l=requestAnimationFrame(t=>this.animate(t))}animate(t){let{w:e,h:i,ctx:n,textCtx:r,crossCtx:c,fadeCtx:h}=this;if(this.beginning)return this.setHeadPosition(t),this.tail.x=this.head.x,this.tail.y=this.head.y,this.beginning=!1,void(l=requestAnimationFrame(t=>this.animate(t)));t-s<16||this.beginning||(this.count++,s=t,this.tail.x=this.head.x,this.tail.y=this.head.y,this.setHeadPosition(t),r.clearRect(0,0,e,i),r.globalCompositeOperation="source-over",a&&(r.fillStyle="white",r.fillRect(0,0,e,i),r.globalCompositeOperation="destination-out"),r.fillText(function(){let t=new Date,e=t.getHours().toString().padStart(2,"0"),i=t.getMinutes().toString().padStart(2,"0");return`${e}:${i}`}(),e/2,i/2),c.clearRect(0,0,e,i),c.globalCompositeOperation="source-over",this.drawHeadTailLine(c),c.globalCompositeOperation="destination-in",c.drawImage(r.canvas,0,0),h.globalCompositeOperation="source-over",h.drawImage(c.canvas,0,0),this.diffTwice(h,o),n.clearRect(0,0,e,i),n.globalCompositeOperation="source-over",n.drawImage(h.canvas,0,0),a||(this.trailCtx.imageSmoothingEnabled=!1,this.trailCtx.globalCompositeOperation="source-over",this.drawHeadTailLine(this.trailCtx),this.diffTwice(this.trailCtx,o),this.diffTwice(this.trailCtx,o),this.diffTwice(this.trailCtx,o),n.globalCompositeOperation="lighten",n.drawImage(this.trailCtx.canvas,0,0))),l=requestAnimationFrame(t=>this.animate(t))}drawHeadTailLine(t){t.beginPath(),t.strokeStyle="#FCFCFC",t.lineWidth=100,t.lineJoin="round",t.lineCap="round",t.moveTo(this.head.x,this.head.y),t.lineTo(this.tail.x,this.tail.y),t.stroke()}diffTwice(t,e){let i=this.tempCtx,n=t.canvas.width,r=t.canvas.height;i.clearRect(0,0,n,r),i.globalCompositeOperation="source-over",i.fillStyle=e,i.drawImage(t.canvas,0,0),i.globalCompositeOperation="source-in",i.fillRect(0,0,n,r),t.save(),t.globalCompositeOperation="difference",t.drawImage(i.canvas,0,0),t.drawImage(i.canvas,0,0),t.restore()}getFontSize(t,e){let i=this.tempCtx;e<1&&(e=i.canvas.width*e);const n=2*e;let r,o=1e3;do{i.font=o--+"px monospace",r=i.measureText(t)}while(r.width>i.canvas.width-n);return i.font}}t.browser&&(window.LissajousAnimator=c)}.call(this,i(3))},function(t,e){var i,n,r=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(i===setTimeout)return setTimeout(t,0);if((i===o||!i)&&setTimeout)return i=setTimeout,setTimeout(t,0);try{return i(t,0)}catch(e){try{return i.call(null,t,0)}catch(e){return i.call(this,t,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:o}catch(t){i=o}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(t){n=a}}();var l,c=[],h=!1,u=-1;function f(){h&&l&&(h=!1,l.length?c=l.concat(c):u=-1,c.length&&d())}function d(){if(!h){var t=s(f);h=!0;for(var e=c.length;e;){for(l=c,c=[];++u<e;)l&&l[u].run();u=-1,e=c.length}l=null,h=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function g(t,e){this.fun=t,this.array=e}function m(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];c.push(new g(t,e)),1!==c.length||h||s(d)},g.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=m,r.addListener=m,r.once=m,r.off=m,r.removeListener=m,r.removeAllListeners=m,r.emit=m,r.prependListener=m,r.prependOnceListener=m,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}}]);